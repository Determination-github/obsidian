
협력
- 객체들이 애플리케이션의 기능을 구현하기 위해 수행하는 상호작용을 협력이라고 한다.
- 객체가 협력에 참여하기 위해 수행하는 로직은 책임이라고 한다.
- `메시지 전송`은 객체 사이의 협력을 위해 사용할 수 있는 유일한 커뮤니케이션 수단이다.
- 외부의 객체는 오직 메시지만 전송할 수 있을 뿐이며 메시지를 어떻게 처리할지는 메시지를 수신한 객체가 직접 결정한다.



협력은 설계를 위한 문맥을 결정한다.
- 상태: 인스턴스 변수
- 행동: 메서드
- 객체의 행동을 결정하는 것 = 협력
- 객체의 상태를 결정하는 것 = 행동
- 예)
	- 자동차라는 객체의 관점에서 생각
	- 자동차는 운전자에게 협력이라는 관점에서 설계 문맥을 결정
	- 운전자가 '엑셀을 밟는다'라는 메시지를 자동차에게 전달함
	- 협력의 관점에서, 자동차는 엑셀을 밟을 때 어떻게 할 지 행동을 결정해야 함
	- 예를 들어, 앞으로 전진한다는 행동을 결정
	- 행동이 결정되었으니 이제 상태가 결정되어야 함
	- 예를 들어, 앞으로 전진하려면 엔진이 필요하니 엔진이라는 상태를 내부에 포함


책임
- 책임은 객체가 '무엇을 알고 있는가'와 '무엇을 할 수 있는가'로 구성
- 협력 안에서 객체에게 할당한 책임이 외부의 인터페이스와 내부의 속성을 결정한다.
- 그렇다면 책임 == 메시지?
	- 책임은 메시지보다 추상적인 개념
	- 단순한 책임이 여러 개의 메시지로 분할되거나, 합쳐질 수 있음

책임 주도 설계
- 책임을 찾고 책임을 수행할 적절한 객체를 찾아 책임을 할당하는 방식으로 협력하는 것


메시지가 객체를 결정한다.
- 객체에게 책임을 할당하는 데 필요한 메시지를 먼저 식별하고 메시지를 처리할 객체를 나중에 선택하게 된다.
- 다시 말해, 객체가 메시지를 선택하는 것이 아니라 메시지가 객체를 선택한다.
- 메시지가 객체를 선택하게 하는 두 가지 중요 이유
	- 객체가 최소한의 인터페이스(minimal interface)를 가질 수 있게 된다.
		- 필요한 메시지가 식별될 때까지 객체의 퍼블릭 인터페이스에 어떤 것도 추가하지 않기 때문에 객체는 애플리케이션에 적절한 크기의 퍼블릭 인터페이스를 가질 수 있다.
		- 위의 예시로 보면, 자동차 클래스는 '엑셀을 밟는다'라는 메시지 처리를 위한 퍼블릭 인터페이스만 우선 갖게 된다.
		- 다른 협력을 위한 메시지가 추가되면, 그때 퍼블릭 인터페이스를 추가한다.
	- 객체는 충분히 추상적인 인터페이스를 가질 수 있게 된다.
		- 객체의 인터페이스는 무엇(what)을 하는지는 표현해야 하지만 어떻게(how) 수행하는지는 노출해선 안된다.
		- 메시지는 외부의 객체가 요청하는 무언가를 의미하기 때문에 메시지를 먼저 식별하면 무엇을 수행할지에 초점을 맞추는 인터페이스를 얻을 수 있다.
		- 위 예시로 보면, '엑셀을 밟는다'라는 메시지에 대해 '전진한다'는 퍼블릭 인터페이스를 자동차 클래스에 추가할 수 있다.
		- 하지만 이때는 어떻게 전진할 것인지에 대한 구현을 우선 생략하면 추상적인 인터페이스를 가질 수 있다.


역할과 협력
- 객체는 협력이라는 주어진 문맥 안에서 특정한 목적을 갖는다.
- 객체의 목적은 협력 안에서 객체가 맡게 되는 책임의 집합으로 표시된다.
- 이처러 객체가 어떤 특정한 협력 안에서 수행하는 책임의 집합을 '역할'이라 부른다.
- 실제로 협력을 모델링할 때는 특정 객체가 아닌 역할에 책임을 할당한다고 생각하는게 좋다.


역할의 구현
- 역할을 구현하는 가장 일반적인 방법은 '추상 클래스'와 '인터페이스'를 사용하는 것
- 협력의 관점에서 추상 클래스와 인터페이스는 구체 클래스들이 따라야 하는 책임의 집합을 서술한 것
- 추상 클래스는 책임의 일부를 구현해 놓은 것이고 인터페이스는 일체의 구현 없이 책임의 집합만을 나열해 놓았다는 차이가 있지만 협력의 관점에서는 둘 모두 역하을 정의할 수 있는 구현 방법이라는 공통점이 있다.














체크리스트
1. 어떤 협력이 필요한가?
	- 어떤 객체들이 필요한지를 고민한다.
2. 어떤 객체가 필요한가?
	- 어떤 상태와 행동이 필요한지 고민
	- 어떤 행동이 필요한지 알면 어떤 상태가 필요한지 결정할 수 있음
3. 메시지와 책임

