
OSI 7계층
- 물리
- 데이터링크
- 네트워크
- 전송
- 세션
- 표현
- 응용


물리 계층
- 데이터를 전기적 신호로 변환해 실제 매체(케이블, 무선 주파수 등)를 통해 전송하는 역할
- 예시:
	- 이더넷 케이블, 광섬유 케이블, WI-FI의 무선 신호 등
	- '0'과 '1' 같은 비트 신호를 실제 매체를 통해 전달

데이터링크 계층
- 물리 계층을 통해 전송되는 비트들을 '프레임' 단위로 묶어서 안정적으로 전송할 수 있도록 제어
- 노드와 노드를 연결한 논리적 회선
- 오류 검사(checksum), 흐름 제어 등을 담당
- 데이터를 네트워크 상에서 프레임으로 묶고, 충돌이나 손실이 났는지 점검
- 예시:
	- 스위치, 브리지

네트워크 계층
- 서로 다른 네트워크를 연결하고, 논리적 주소(IP 주소) 정보를 사용해 최적의 경로로 패킷을 전달
- 예시:
	- IP, 라우터, ICMP 등
	- 패킷의 출발지와 목적지 IP를 분석해 라우팅 테이블을 참조하여 어떤 라우터를 거쳐갈지 결정

전송 계층
- 종단 간 신뢰성 있는 데이터 전송을 책임지며, 세그먼트 단위로 데이터를 관리
- 연결 지향(TCP) 또는 비연결 지향(UDP) 방식을 결정
- 오류 북구, 흐름 제어 등을 담당
- 예시:
	- TCP, UDP

세션 계층
- 송신자와 수신자 간에 논리적 연결(Session)을 설정, 유지, 종료 하는 역할
- 연결을 유지하면서 상호 간의 동기화나 에러 복구 지점을 관리
- 예시:
	- 소켓
	- 화상 회의, 원격 데스크톱 등에서 사용 중 연결이 끊어지지 않도록 '세션'을 관리

표현 계층
- 데이터 표현 형식을 통일하고 인코딩, 디코딩, 암호화, 압축 등을 수행
- 서로 다른 환경 간에 호환성을 유지하도록 함

응용 계층
- 사용자와 직접 맞닿아 있는 계층
- 네트워크 애플리케이션 서비스를 제공
- 파일 전송, 메일 전송, 웹 브라우징, 메시징 등


## TCP/IP 4계층 모델 개요

1. **응용 계층 (Application Layer)**
2. **전송 계층 (Transport Layer)**
3. **인터넷 계층 (Internet Layer)**
4. **네트워크 접근 계층 (Network Access Layer)**

---

### 1. 응용 계층 (Application Layer)

- **역할**: 최종 사용자와 직접 상호작용하는 애플리케이션 서비스를 제공. 데이터의 표현, 암호화, 압축 등을 포함하며, 다양한 프로토콜을 통해 네트워크 서비스를 수행.
- **주요 프로토콜 및 서비스**:
    - **HTTP/HTTPS**: 웹 브라우징
    - **FTP**: 파일 전송
    - **SMTP/POP3/IMAP**: 이메일 전송 및 수신
    - **DNS**: 도메인 이름 해석
    - **SSH**: 원격 로그인

### 2. 전송 계층 (Transport Layer)

- **역할**: 종단 간(End-to-End) 데이터 전송의 신뢰성을 관리. 데이터의 전달 순서, 오류 복구, 흐름 제어 등을 담당.
- **주요 프로토콜**:
    - **TCP (Transmission Control Protocol)**: 연결 지향, 신뢰성 있는 데이터 전송. 데이터의 순서 보장 및 오류 검출 후 재전송.
    - **UDP (User Datagram Protocol)**: 비연결 지향, 빠른 전송. 실시간 애플리케이션에 적합하지만 신뢰성은 낮음.

### 3. 인터넷 계층 (Internet Layer)

- **역할**: 다양한 네트워크 간의 데이터 패킷 전달을 관리. 논리적 주소(IP 주소)를 사용하여 패킷의 경로를 결정하고 라우팅.
- **주요 프로토콜**:
    - **IP (Internet Protocol)**: IPv4, IPv6 주소 지정 및 패킷 라우팅
    - **ICMP (Internet Control Message Protocol)**: 네트워크 진단 및 오류 메시지 전송 (예: ping)
    - **ARP (Address Resolution Protocol)**: IP 주소를 MAC 주소로 변환

### 4. 네트워크 접근 계층 (Network Access Layer)

- **역할**: 물리적인 네트워크 매체를 통해 데이터 프레임을 실제로 전송. 데이터 링크 계층과 물리 계층의 기능을 포함하며, 하드웨어 주소(MAC 주소)를 사용.
- **주요 기술 및 프로토콜**:
    - **Ethernet (이더넷)**
    - **Wi-Fi (무선 LAN)**
    - **PPP (Point-to-Point Protocol)**
    - **MAC 주소 관리**

---

## OSI 7계층과 TCP/IP 4계층 비교

| OSI 7계층      | TCP/IP 4계층    | 설명                           |
| ------------ | ------------- | ---------------------------- |
| 7. 응용 계층     | 4. 응용 계층      | 사용자와 직접 상호작용하는 애플리케이션 서비스 제공 |
| 6. 표현 계층     |               | 응용 계층에 통합 (데이터 표현 및 변환 기능)   |
| 5. 세션 계층     |               | 응용 계층에 통합 (세션 관리 기능)         |
| 4. 전송 계층     | 3. 전송 계층      | 데이터 전송의 신뢰성과 흐름 제어 관리        |
| 3. 네트워크 계층   | 2. 인터넷 계층     | 패킷의 라우팅 및 전달 관리              |
| 2. 데이터 링크 계층 | 1. 네트워크 접근 계층 | 물리적 데이터 전송과 하드웨어 주소 관리       |
| 1. 물리 계층     |               | 네트워크 접근 계층에 통합 (실제 전송 매체)    |

**주요 차이점**:

- TCP/IP 모델은 OSI 모델보다 간단하며, 일부 OSI 계층의 기능을 통합하여 4계층으로 축소.
- OSI 모델은 이론적 모델로, TCP/IP는 실제 인터넷 프로토콜 스택을 기반으로 함.


![[Pasted image 20241225195028.png]]

MAC 주소(물리적 주소)
- 48비트 구성(주소 구분과 제조 업체 2비트 + 업체 일련번호 24비트)
- 물리적 장치의 고유번호

IP 주소(논리적 주소)
- IPv4주소 : 32비트, 8비트씩 4개의 블록으로 구분
- IPv6주소: 128비트, 16비트씩 8개 블록으로 구분

포트 주소
- 16비트로 구성


### 1. 기본 개념 복습: IP 주소

- **IP 주소**는 인터넷에 연결된 각 기기를 식별하는 고유한 주소 
- IPv4 주소는 `XXX.XXX.XXX.XXX` 형태로 표현되며, 여기서 각 `XXX`는 0부터 255까지의 숫자
- 예를 들어, `192.168.1.10` 같은 주소가 이에 해당

### 2. 네트워크 주소와 호스트 주소란?

**네트워크 주소**와 **호스트 주소**는 IP 주소를 두 부분으로 나누어 설명하는 개념, 이를 통해 IP 주소가 어떻게 네트워크와 개별 기기를 식별하는지 이해할 수 있다.

- **네트워크 주소(Network Address)**: 특정 네트워크 자체를 식별하는 부분. 같은 네트워크에 속한 모든 기기는 동일한 네트워크 주소를 공유
    
- **호스트 주소(Host Address)**: 네트워크 내의 개별 기기를 식별하는 부분. 동일한 네트워크 주소를 가진 기기들 간에 고유하게 구분
    

이 두 부분을 통해 하나의 IP 주소가 전체 네트워크와 그 안의 개별 기기를 동시에 식별할 수 있게 된다.

### 3. 서브넷 마스크(Subnet Mask)란?

네트워크 주소와 호스트 주소를 구분하기 위해 **서브넷 마스크(Subnet Mask)**를 사용. 
서브넷 마스크는 네트워크 부분과 호스트 부분을 나누는 역할을 한다

- **서브넷 마스크의 형태**: IP 주소와 같은 형태인 `255.255.255.0` 같은 숫자로 표현
    
- **기능**: 서브넷 마스크는 IP 주소와 비트 단위로 AND 연산을 수행하여 네트워크 주소를 추출. 예를 들어, IP 주소가 `192.168.1.10`이고 서브넷 마스크가 `255.255.255.0`이라면, 네트워크 주소는 `192.168.1.0`
    

### 4. 예시를 통해 이해하기

#### 예시 1:

- **IP 주소**: `192.168.1.10`
- **서브넷 마스크**: `255.255.255.0`

**네트워크 주소**:

- `192.168.1.0` (서브넷 마스크가 `255.255.255.0`이므로, 처음 세 옥텟이 네트워크 주소)

**호스트 주소**:

- `10` (마지막 옥텟이 호스트 주소)

#### 예시 2:

- **IP 주소**: `10.0.5.25`
- **서브넷 마스크**: `255.255.0.0`

**네트워크 주소**:

- `10.0.0.0` (처음 두 옥텟이 네트워크 주소)

**호스트 주소**:

- `5.25` (마지막 두 옥텟이 호스트 주소)

### 5. 서브넷 마스크의 이해

서브넷 마스크는 네트워크와 호스트 주소를 나누는 기준을 제공. 
각 옥텟(8비트)마다 `255`는 그 옥텟이 네트워크 주소에 속함을 의미하고, `0`은 호스트 주소에 속함을 의미

- **예시 1**에서 `255.255.255.0`은 첫 세 옥텟이 네트워크 주소이고, 마지막 옥텟이 호스트 주소임을 나타냄
    
- **예시 2**에서 `255.255.0.0`은 처음 두 옥텟이 네트워크 주소이고, 마지막 두 옥텟이 호스트 주소임을 의미함
    

### 6. CIDR 표기법(Classless Inter-Domain Routing)

서브넷 마스크를 간단히 표현하는 방법으로 **CIDR 표기법**이 사용 
이는 IP 주소 뒤에 `/`와 함께 네트워크 주소의 비트 수를 적는 방식

- **예시 1**: `192.168.1.10/24` (`/24`는 서브넷 마스크가 `255.255.255.0`임을 의미)
    
- **예시 2**: `10.0.5.25/16` (`/16`은 서브넷 마스크가 `255.255.0.0`임을 의미)
    

### IPv4 주소 클래스의 기본 개념

**IPv4 주소**는 32비트로 구성되어 있으며, 보통 `XXX.XXX.XXX.XXX` 형태로 표현
이 주소는 네트워크와 호스트(개별 기기)를 식별하는 데 사용
IPv4 주소는 **클래스 A, B, C, D, E**의 다섯 가지 클래스로 나뉘며, 각 클래스는 특정한 범위와 용도를 가지고 있음

---

### IPv4 주소 클래스의 구분 기준

IPv4 주소 클래스는 **첫 번째 옥텟**(첫 번째 숫자)과 그 이진수의 **상위 비트**를 기준으로 구분. 
각 클래스는 특정한 비트 패턴으로 시작

|클래스|첫 번째 옥텟 범위|첫 비트 패턴|
|---|---|---|
|A|1 - 126|0xxxxxxx|
|B|128 - 191|10xxxxxx|
|C|192 - 223|110xxxxx|
|D|224 - 239|1110xxxx|
|E|240 - 254|11110xxx|

**참고:** `127.x.x.x`는 루프백(Loopback) 주소로, 일반적인 네트워크 통신에는 사용되지 않는다

---

### 3. 각 클래스의 상세 설명

#### **클래스 A**

- **범위:** `1.0.0.0`부터 `126.255.255.255`까지
- **첫 옥텟의 시작 비트:** `0`
- **기본 서브넷 마스크:** `255.0.0.0` 또는 `/8`
- **네트워크/호스트 구분:**
    - **네트워크 부분:** 8비트
    - **호스트 부분:** 24비트
- **특징:**
    - 대규모 네트워크에 적합
    - 약 1억 6천만 개의 호스트 주소 가능
- **예시:** `10.0.0.1`

#### **클래스 B**

- **범위:** `128.0.0.0`부터 `191.255.255.255`까지
- **첫 옥텟의 시작 비트:** `10`
- **기본 서브넷 마스크:** `255.255.0.0` 또는 `/16`
- **네트워크 부분:** 16비트
- **호스트 부분:** 16비트
- **특징:**
    - 중규모 네트워크에 적합
    - 약 65,534개의 호스트 주소 가능
- **예시:** `172.16.0.1`

#### **클래스 C**

- **범위:** `192.0.0.0`부터 `223.255.255.255`까지
- **첫 옥텟의 시작 비트:** `110`
- **기본 서브넷 마스크:** `255.255.255.0` 또는 `/24`
- **네트워크 부분:** 24비트
- **호스트 부분:** 8비트
- **특징:**
    - 소규모 네트워크에 적합
    - 최대 254개의 호스트 주소 가능
- **예시:** `192.168.1.1`

#### **클래스 D (멀티캐스트)**

- **범위:** `224.0.0.0`부터 `239.255.255.255`까지
- **첫 옥텟의 시작 비트:** `1110`
- **특징:**
    - **멀티캐스트 통신**에 사용
    - 특정 그룹의 호스트들에게 동시에 데이터를 전송할 때 활용
- **예시:** `224.0.0.1`

#### **클래스 E (실험적)**

- **범위:** `240.0.0.0`부터 `254.255.255.255`까지
- **첫 옥텟의 시작 비트:** `11110`
- **특징:**
    - **실험적 용도**로 예약
    - 일반적인 인터넷 통신에는 사용되지 않음
- **예시:** `240.0.0.1`

---

### 4. 클래스 A, B, C의 주요 용도

- **클래스 A:**
    
    - 대규모 기업, ISP(인터넷 서비스 제공업체) 등에 적합
    - 예: 글로벌 기업의 본사 네트워크
- **클래스 B:**
    
    - 중간 규모의 기업, 대학, 정부 기관 등에 적합
    - 예: 대학 캠퍼스 내 네트워크
- **클래스 C:**
    
    - 소규모 기업, 소규모 네트워크 환경 등에 적합
    - 예: 소규모 사무실, 가정 내 네트워크


32비트 모두 0인 주소
- 0.0.0.0/32
- IPv4 패킷을 전송하고자 하는 호스트가 자신의 IP 주소를 모르는 경우, 통신에 사용

32비트 모두 1인 주소
- 255.255.255.255/32
- 현재 네트워크 내의 제한된 브로드캐스트로 예약
- 네트워크 내의 모든 다른 호스트들에게 메시지를 전송할 때 목적지 주소로 설정