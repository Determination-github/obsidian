6장

도메인 생명주기
객체의 두 가지 타입
- 사용된 후 가비지 컼ㄹ렉터에게 보내지는 단순하고 일시적인 객체
- 오래동안 지속되며, 다른 객체와 복잡한 상호의존성을 가지며 여러 가지 상태 변화를 겪기도 하는 객체

스팬딧은?
- 대게 두 번째 타입의 객체를 보유함

도메인 객체의 관리와 관련된 문제 2가지
1. 생명주기 동안의 무결성 유지
2. 생명주기 관리의 복잡성으로 모델이 난해해지는 것을 방지

cc
1. **생명주기 동안의 무결성 유지**: 이는 객체가 생성되고 제거될 때, 그리고 그 사이에 그 객체의 상태나 데이터가 일관되고 올바른지를 보장하는 것을 의미합니다. 즉, 객체가 생성되고 사용되는 동안에는 데이터나 상태가 변질되거나 잘못된 상태로 되지 않도록 보장해야 합니다. 예를 들어, 고객 객체의 경우 고객의 이름, 주소, 연락처 등의 데이터가 유효한지 확인하고, 그 유효성을 유지하는 것이 중요합니다.
    
2. **생명주기 관리의 복잡성으로 모델이 난해해지는 것을 방지**: 이는 객체의 생명주기(생성, 사용, 제거)를 관리하는 것이 복잡해질 때, 코드나 모델 자체가 이해하기 어려워지는 것을 말합니다. 객체의 생명주기가 복잡해지면 코드가 길어지고 복잡해질 수 있으며, 이는 유지보수와 확장에 어려움을 줄 수 있습니다. 이를 방지하기 위해서는 객체의 생명주기를 관리하는 코드를 명확하고 간결하게 유지하고, 객체 간의 관계나 행동을 명확하게 모델링하는 것이 중요합니다.

책에서 문제를 해결하는데 제안하는 3가지 패턴
- AGGREGATE(집합체)
- FACTORY(팩토리)
- REPOSITORY(리파지토리)


AGGREGATE
- 대부분의 업무 도메인은 상호 연관의 정도가 높다
- 객체 참조를 통해 얽히고 설킨 관계망을 추적해야 한다.
- 데이터베이스에서 Merchant 객체를 삭제한다면?
	- 지출 객체는 삭제된 객체를 참조하게 됨
	- 그러한 참조를 그대로 둔다면 데이터베이스에는 쓰레기 주소가 쌓인다.
	- 자동화



7장
